# Development environment overrides for Prometheus Stack
kube-prometheus-stack:
  # Prometheus dev overrides
  prometheus:
    prometheusSpec:
      retention: "7d"           # Shorter retention for dev
      retentionSize: "5GB"      # Storage limit for dev
      resources:
        requests:
          cpu: "200m"           # Higher CPU for dev workload
          memory: "512Mi"       # More memory for dev
        limits:
          cpu: "500m"
          memory: "1Gi"
      
      # Persistent storage for dev
      storageSpec:
        volumeClaimTemplate:
          spec:
            storageClassName: "standard"
            accessModes: ["ReadWriteOnce"]
            resources:
              requests:
                storage: "10Gi"
  
  # Grafana dev overrides
  grafana:
    adminPassword: "admin123"   # Dev admin password
    
    # Higher resources for dev
    resources:
      requests:
        cpu: "100m"
        memory: "128Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"
    
    # Enable custom ingress for domain access
    ingress:
      enabled: true
      hosts:
        - dev.grafana.local
      annotations:
        kubernetes.io/ingress.class: "nginx"
        nginx.ingress.kubernetes.io/ssl-redirect: "false"
    
    # Add Loki datasource for dev
    additionalDataSources:
      - name: Loki
        type: loki
        url: http://loki-dev.monitoring-system.svc.cluster.local:3100
        access: proxy
        isDefault: false
    
    # Dev-specific Grafana config
    grafana.ini:
      server:
        root_url: "http://dev.grafana.local"
      security:
        cookie_secure: false    # Allow HTTP cookies in dev
  
  # Enable Alertmanager for dev
  alertmanager:
    enabled: true
    alertmanagerSpec:
      resources:
        requests:
          cpu: "50m"
          memory: "64Mi"
        limits:
          cpu: "100m"
          memory: "128Mi"
      storage:
        volumeClaimTemplate:
          spec:
            storageClassName: "standard"
            accessModes: ["ReadWriteOnce"]
            resources:
              requests:
                storage: "2Gi"