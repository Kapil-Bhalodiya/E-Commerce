# Base Prometheus Stack Configuration
# This file contains minimal defaults that work for both dev and prod

# Prometheus Configuration
prometheus:
  enabled: true
  prometheusSpec:
    replicas: 1
    retention: "15d"  # Keep metrics for 15 days
    resources:
      requests:
        cpu: "200m"
        memory: "1Gi"
      limits:
        cpu: "1000m"
        memory: "2Gi"
    # Storage for metrics
    storageSpec:
      volumeClaimTemplate:
        spec:
          storageClassName: standard
          accessModes: ["ReadWriteOnce"]
          resources:
            requests:
              storage: 10Gi

# Grafana Configuration  
grafana:
  enabled: true
  adminPassword: "admin123"  # Change this in production
  persistence:
    enabled: true
    storageClassName: standard
    size: 5Gi
  # Basic Grafana settings
  grafana.ini:
    server:
      domain: "localhost"  # Will be overridden per environment
      root_url: "http://localhost/"
    auth.anonymous:
      enabled: false  # Require login
  service:
    type: ClusterIP
    port: 80

# Enable node exporter for system metrics
prometheus-node-exporter:
  enabled: true

# Enable kube-state-metrics for Kubernetes metrics  
kube-state-metrics:
  enabled: true