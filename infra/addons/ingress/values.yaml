# # Ingress base configuration - minimal defaults only
# # Supports both old and new values.yaml structure for backward compatibility

# # =============================================================================
# # BACKWARD COMPATIBILITY SETTINGS
# # =============================================================================
# # Old structure support
# # ingressClassName: nginx
# # domain: "base.local"  # Will be overridden per environment

# # Service routing - will be overridden per environment
# services:
#   - name: frontend
#     serviceName: frontend-dev
#     servicePort: 80
#     path: /
#     pathType: Prefix
#   - name: backend-api
#     serviceName: backend-dev
#     servicePort: 8000
#     path: /api
#     pathType: Prefix
#   - name: backend-uploads
#     serviceName: backend-dev
#     servicePort: 8000
#     path: /uploads
#     pathType: Prefix



# # Settings for the ingress controller (nginx in this case)
# ingress:
#   # Basic ingress settings
#   enabled: true            # Enable ingress resource creation
#   className: "nginx"       # Ingress controller class name
#   # Nginx-specific annotations for traffic handling
#   annotations:
#     # SSL and HTTPS configuration
#     nginx.ingress.kubernetes.io/ssl-redirect: "false"           # Disable SSL redirect in dev
#     nginx.ingress.kubernetes.io/force-ssl-redirect: "false"     # Don't force SSL
    
#     # Request handling
#     nginx.ingress.kubernetes.io/proxy-body-size: "50m"          # Max request body size
#     nginx.ingress.kubernetes.io/proxy-read-timeout: "300"       # Read timeout (5 minutes)
#     nginx.ingress.kubernetes.io/proxy-send-timeout: "300"       # Send timeout (5 minutes)
#     nginx.ingress.kubernetes.io/proxy-connect-timeout: "60"     # Connect timeout (1 minute)
    
#     # CORS configuration for development
#     nginx.ingress.kubernetes.io/enable-cors: "true"             # Enable CORS
#     nginx.ingress.kubernetes.io/cors-allow-origin: "*"          # Allow all origins in dev
#     nginx.ingress.kubernetes.io/cors-allow-methods: "GET, POST, PUT, DELETE, OPTIONS"  # Allowed methods
#     nginx.ingress.kubernetes.io/cors-allow-headers: "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,Authorization"  # Allowed headers
    
#     # Rate limiting (relaxed for development)
#     nginx.ingress.kubernetes.io/rate-limit-connections: "100"   # Max concurrent connections
#     nginx.ingress.kubernetes.io/rate-limit-requests-per-minute: "1000"  # Requests per minute
    
#     # Compression
#     nginx.ingress.kubernetes.io/enable-gzip: "true"             # Enable gzip compression
    
#     # Development-specific annotations
#     nginx.ingress.kubernetes.io/configuration-snippet: |        # Custom nginx configuration
#       more_set_headers "X-Environment: development";
#       more_set_headers "X-Debug-Mode: enabled";

# # =============================================================================
# # HOST ROUTING CONFIGURATION
# # =============================================================================
# hosts:
#   - host: dev.ecommerce.local
#     paths:
#       - path: /
#         pathType: Prefix
#         backend:
#           service:
#             name: frontend-dev
#             port:
#               number: 80
  
#   - host: dev.api.ecommerce.local
#     paths:
#       - path: /api
#         pathType: Prefix
#         backend:
#           service:
#             name: backend-dev
#             port:
#               number: 8000

# # =============================================================================
# # TLS/SSL CONFIGURATION
# # =============================================================================
# tls:
#   enabled: false
#   secretName: "app-tls-cert"
#   issuer: "letsencrypt-staging"
#   certificates: []

# # =============================================================================
# # LOAD BALANCING CONFIGURATION
# # =============================================================================
# loadBalancing:
#   sessionAffinity:
#     enabled: false
#     cookieName: "INGRESSCOOKIE"
#     cookieDuration: "86400"
#   algorithm: "round_robin"

# # =============================================================================
# # SECURITY CONFIGURATION
# # =============================================================================
# security:
#   ipWhitelist:
#     enabled: false
#     allowedIPs: []
#   basicAuth:
#     enabled: false
#     secretName: ""
#   requestFiltering:
#     blockUserAgents: []
#     blockPaths: []
#     maxRequestSize: "50m"
#     maxHeaderSize: "8k"

# # =============================================================================
# # MONITORING AND LOGGING
# # =============================================================================
# monitoring:
#   accessLog:
#     enabled: true
#     format: "json"
#     destination: "stdout"
  
#   metrics:
#     enabled: true
#     serviceMonitor:
#       enabled: true
#       interval: "30s"
#       labels:
#         app: ingress
  
#   errorPages:
#     enabled: true
#     codes:
#       - 404
#       - 500
#       - 502
#       - 503

# # =============================================================================
# # DEVELOPMENT-SPECIFIC SETTINGS
# # =============================================================================
# development:
#   debug:
#     enabled: true
#     logLevel: "debug"
#     showErrors: true
  
#   hotReload:
#     enabled: true
#     websocket: true
  
#   tools:
#     headers:
#       - "X-Environment: development"
#       - "X-Debug-Mode: enabled"
#       - "X-Hot-Reload: enabled"